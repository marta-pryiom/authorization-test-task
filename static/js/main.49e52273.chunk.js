(this["webpackJsonpauthorization-test-task"]=this["webpackJsonpauthorization-test-task"]||[]).push([[0],{11:function(e,t,a){e.exports={userIcon:"UserMenu_userIcon__1kbC_",title:"UserMenu_title__GO-MA",box:"UserMenu_box__wVYJ7",btn:"UserMenu_btn__2a7QP"}},2:function(e,t,a){e.exports={title:"Login_title__3nCR5",form:"Login_form__3ihev",formItem:"Login_formItem__1V4-Q",labelItemEmail:"Login_labelItemEmail__3Vq_L",iconEnvelope:"Login_iconEnvelope__3bzqW",labelPassword:"Login_labelPassword__wZIJ5",iconLock:"Login_iconLock__1aHRn",box:"Login_box__3xBW9",loginBox:"Login_loginBox__tnrg0",btn:"Login_btn__1h1GB",addBtn:"Login_addBtn__2frY2",forgotInfo:"Login_forgotInfo__3U4LO",addBox:"Login_addBox__k0M-B",forgotAddInfo:"Login_forgotAddInfo__3NoG5",Icon:"Login_Icon__1eXB4",boxAvatar:"Login_boxAvatar__1GlWm",avatarIcon:"Login_avatarIcon__2wiKh",triangle:"Login_triangle__30n1U",triangleTwo:"Login_triangleTwo__3FiD5",square:"Login_square__3Tcas",circle:"Login_circle__3aV05",circleTwo:"Login_circleTwo__cY-f0"}},29:function(e,t,a){e.exports={container:"Container_container__33CX4"}},38:function(e,t,a){},6:function(e,t,a){e.exports={bg:"ForgotName_bg__3mVf1",bgActive:"ForgotName_bgActive__2hXnY",content:"ForgotName_content__2oSpa",contentActive:"ForgotName_contentActive__1KQQC"}},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(7),r=a.n(s),o=(a(38),a(8)),i=a(15),l=a(18),j=a.n(l),b=a(28),u=a(10),d=a.n(u),m=a(14),_=a(9);d.a.defaults.baseURL="https://site.ualegion.com/";var h=function(e){d.a.defaults.headers.common.Authorization="Bearer ".concat(e)},g=Object(_.b)("auth/login",function(){var e=Object(b.a)(j.a.mark((function e(t,a){var n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,e.prev=1,console.log(t),e.next=5,d.a.post("api/v1/security/login",t);case 5:return c=e.sent,s=c.data,h(s.token),console.log(s),e.abrupt("return",s);case 12:e.prev=12,e.t0=e.catch(1),m.b.success("No such user"),n(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}()),x=a(2),O=a.n(x),f=a(6),v=a.n(f),p=a(1);var N=function(e){var t=e.active,a=e.setActive,n=t?v.a.bgActive:v.a.bg,c=t?v.a.contentActive:v.a.content;return Object(p.jsx)("div",{className:"".concat(n),onClick:function(){return a(!1)},children:Object(p.jsx)("div",{className:"".concat(c),onClick:function(e){return e.stopPropagation()},children:Object(p.jsxs)("form",{children:[Object(p.jsxs)("label",{children:["Please enter your email to search for your account.",Object(p.jsx)("input",{type:"email",name:"email",className:v.a.formItem,placeholder:"email"})]}),Object(p.jsx)("button",{type:"submit",className:v.a.btn,children:"OK"})]})})})},L=a.p+"static/media/sprite.c1aea847.svg";var w=function(e){var t=e.isAuth,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],l=Object(n.useState)(""),j=Object(i.a)(l,2),b=j[0],u=j[1],d=Object(n.useState)(!1),m=Object(i.a)(d,2),_=m[0],h=m[1],x=Object(o.b)(),f=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"email":return r(n);case"password":return u(n);default:return}},v=function(){r(""),u("")};return!t&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:O.a.loginBox,children:[Object(p.jsxs)("div",{className:O.a.boxAvatar,children:[Object(p.jsx)("img",{alt:"avatar",src:"https://www.syn-enosis.gr/media/1909/group-5-2x.png",className:O.a.avatarIcon}),Object(p.jsx)("svg",{className:O.a.triangle,children:Object(p.jsx)("use",{href:L+"#triangle"})}),Object(p.jsx)("svg",{className:O.a.triangleTwo,children:Object(p.jsx)("use",{href:L+"#play"})}),Object(p.jsx)("svg",{className:O.a.circle,children:Object(p.jsx)("use",{href:L+"#circle"})}),Object(p.jsx)("svg",{className:O.a.circleTwo,children:Object(p.jsx)("use",{href:L+"#circle"})}),Object(p.jsx)("svg",{className:O.a.square,children:Object(p.jsx)("use",{href:L+"#square"})})]}),Object(p.jsxs)("div",{className:O.a.box,children:[Object(p.jsx)("h1",{className:O.a.title,children:"Member Login"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x(g({email:s,password:b})),v()},children:[Object(p.jsx)("label",{children:Object(p.jsxs)("div",{className:O.a.labelItemEmail,children:[Object(p.jsx)("svg",{className:O.a.iconEnvelope,children:Object(p.jsx)("use",{href:L+"#icon-envelope"})}),Object(p.jsx)("input",{type:"email",name:"email",value:s,placeholder:"Email",className:O.a.formItem,onChange:f})]})}),Object(p.jsx)("label",{children:Object(p.jsxs)("div",{className:O.a.labelPassword,children:[Object(p.jsx)("svg",{className:O.a.iconLock,children:Object(p.jsx)("use",{href:L+"#icon-locked"})}),Object(p.jsx)("input",{type:"password",name:"password",value:b,placeholder:"Password",className:O.a.formItem,onChange:f})]})}),Object(p.jsx)("button",{type:"submit",className:O.a.btn,disabled:0===s.length,children:"LOGIN"})]}),Object(p.jsxs)("div",{className:O.a.addBox,children:[Object(p.jsxs)("button",{className:O.a.forgotInfo,onClick:function(){return h(!0)},children:["Forgot"," ",Object(p.jsx)("span",{className:O.a.forgotAddInfo,children:"Username/Password?"})]}),Object(p.jsxs)("button",{type:"button",className:O.a.addBtn,children:["Create your Account",Object(p.jsx)("svg",{className:O.a.Icon,children:Object(p.jsx)("use",{href:L+"#arrow-right"})})]})]})]})]}),Object(p.jsx)(N,{active:_,setActive:h})]})},I=a(29),A=a.n(I);var k=function(e){var t=e.children;return Object(p.jsx)("div",{className:A.a.container,children:t})},y=a.p+"static/media/sprite.c1aea847.svg",B=a(11),C=a.n(B);var F=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:C.a.box,children:[Object(p.jsx)("svg",{className:C.a.userIcon,children:Object(p.jsx)("use",{href:y+"#user"})}),Object(p.jsx)("p",{className:C.a.title,children:"Welcome"}),Object(p.jsx)("button",{className:C.a.btn,type:"button",children:"Log out"})]})})},E=function(e){return e.isAuth};a(65);var M=function(){var e=Object(o.c)(E);return e?Object(p.jsx)(F,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(m.a,{}),Object(p.jsx)(k,{children:Object(p.jsx)(w,{isAuth:e})})]})},P=a(30),U=Object(_.c)({name:"auth",initialState:{email:"",token:"",isAuth:!1},extraReducers:Object(P.a)({},g.fulfilled,(function(e,t){var a=t.payload;e.email=a.email,e.token=a.token,e.isAuth=!0}))}).reducer,S=a(5),T=a(31),q=a.n(T),V=a(32),z=a.n(V),G={key:"auth",storage:q.a,whitelist:["token"]},W=Object(S.g)(G,U),J=Object(_.a)({reducer:W,middleware:function(e){return e({serializableCheck:{ignoredActions:[S.a,S.f,S.b,S.c,S.d,S.e]}}).concat(z.a)}}),Q=Object(S.h)(J),R=a(33);r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(o.a,{store:J,children:Object(p.jsx)(R.a,{persistor:Q,loading:null,children:Object(p.jsx)(M,{})})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.49e52273.chunk.js.map