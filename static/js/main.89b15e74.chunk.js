(this["webpackJsonpauthorization-test-task"]=this["webpackJsonpauthorization-test-task"]||[]).push([[0],{12:function(e,t,a){e.exports={userIcon:"UserMenu_userIcon__1kbC_",title:"UserMenu_title__GO-MA",box:"UserMenu_box__wVYJ7",btn:"UserMenu_btn__2a7QP"}},2:function(e,t,a){e.exports={title:"Login_title__3nCR5",form:"Login_form__3ihev",formItem:"Login_formItem__1V4-Q",labelItemEmail:"Login_labelItemEmail__3Vq_L",iconEnvelope:"Login_iconEnvelope__3bzqW",labelPassword:"Login_labelPassword__wZIJ5",iconLock:"Login_iconLock__1aHRn",box:"Login_box__3xBW9",loginBox:"Login_loginBox__tnrg0",btn:"Login_btn__1h1GB",addBtn:"Login_addBtn__2frY2",forgotInfo:"Login_forgotInfo__3U4LO",addBox:"Login_addBox__k0M-B",forgotAddInfo:"Login_forgotAddInfo__3NoG5",Icon:"Login_Icon__1eXB4",boxAvatar:"Login_boxAvatar__1GlWm",avatarIcon:"Login_avatarIcon__2wiKh",triangle:"Login_triangle__30n1U",triangleTwo:"Login_triangleTwo__3FiD5",square:"Login_square__3Tcas",circle:"Login_circle__3aV05",circleTwo:"Login_circleTwo__cY-f0"}},30:function(e,t,a){e.exports={container:"Container_container__33CX4"}},38:function(e,t,a){},6:function(e,t,a){e.exports={bg:"ForgotName_bg__3mVf1",bgActive:"ForgotName_bgActive__2hXnY",content:"ForgotName_content__2oSpa",contentActive:"ForgotName_contentActive__1KQQC",form:"ForgotName_form__32obS",labelItemEmail:"ForgotName_labelItemEmail__1EJn3",iconEnvelope:"ForgotName_iconEnvelope__2PTcc",formItem:"ForgotName_formItem__1su2v",btn:"ForgotName_btn__2yUhg"}},69:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(9),o=a.n(s),r=(a(38),a(8)),i=a(16),l=a(11),b=a(19),j=a.n(b),u=a(29),d=a(10),m=a.n(d),_=a(5),h=Object(_.b)("auth/logInRequest"),g=Object(_.b)("auth/logInSuccess"),x=Object(_.b)("auth/logInError");m.a.defaults.baseURL="https://connections-api.herokuapp.com";var O=function(e){m.a.defaults.headers.common.Authorization="Bearer ".concat(e)},f=function(){m.a.defaults.headers.common.Authorization=""},v=Object(_.c)("auth/logout",function(){var e=Object(u.a)(j.a.mark((function e(t,a){var n,c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.rejectWithValue,c=a.getState,s=c(),console.log(s),O(s.token),e.prev=4,e.next=7,m.a.delete("/users\u200b/logout");case 7:f(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),n(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,a){return e.apply(this,arguments)}}()),p=a(2),N=a.n(p),I=a(6),L=a.n(I),w=a.p+"static/media/sprite.c1aea847.svg",k=a(1);var A=function(e){var t=e.active,a=e.setActive,n=t?L.a.bgActive:L.a.bg,c=t?L.a.contentActive:L.a.content;return Object(k.jsx)("div",{className:"".concat(n),onClick:function(){return a(!1)},children:Object(k.jsx)("div",{className:"".concat(c),onClick:function(e){return e.stopPropagation()},children:Object(k.jsxs)("form",{className:L.a.form,children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{children:"Please enter your email to search for your account"}),Object(k.jsx)("label",{children:Object(k.jsxs)("div",{className:L.a.labelItemEmail,children:[Object(k.jsx)("svg",{className:L.a.iconEnvelope,children:Object(k.jsx)("use",{href:w+"#icon-envelope"})}),Object(k.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:L.a.formItem})]})})]}),Object(k.jsx)("button",{type:"submit",className:L.a.btn,children:"OK"})]})})})};var y=function(e){var t=e.isAuth,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],o=c[1],b=Object(n.useState)(""),j=Object(i.a)(b,2),u=j[0],d=j[1],_=Object(n.useState)(!1),f=Object(i.a)(_,2),v=f[0],p=f[1],I=Object(r.b)(),L=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"email":return o(n);case"password":return d(n);default:return}},y=function(){o(""),d("")};return!t&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:N.a.loginBox,children:[Object(k.jsxs)("div",{className:N.a.boxAvatar,children:[Object(k.jsx)("img",{alt:"avatar",src:"https://www.syn-enosis.gr/media/1909/group-5-2x.png",className:N.a.avatarIcon}),Object(k.jsx)("svg",{className:N.a.triangle,children:Object(k.jsx)("use",{href:w+"#triangle"})}),Object(k.jsx)("svg",{className:N.a.triangleTwo,children:Object(k.jsx)("use",{href:w+"#play"})}),Object(k.jsx)("svg",{className:N.a.circle,children:Object(k.jsx)("use",{href:w+"#circle"})}),Object(k.jsx)("svg",{className:N.a.circleTwo,children:Object(k.jsx)("use",{href:w+"#circle"})}),Object(k.jsx)("svg",{className:N.a.square,children:Object(k.jsx)("use",{href:w+"#square"})})]}),Object(k.jsxs)("div",{className:N.a.box,children:[Object(k.jsx)("h1",{className:N.a.title,children:"Member Login"}),Object(k.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),console.log(e),I((t={email:s,password:u},function(e){e(h()),m.a.post("/users/login",t).then((function(t){O(t.data.token),e(g(t.data))})).catch((function(t){e(x(t.message)),l.b.error("Please register or enter correct data ")}))})),y()},children:[Object(k.jsx)("label",{children:Object(k.jsxs)("div",{className:N.a.labelItemEmail,children:[Object(k.jsx)("svg",{className:N.a.iconEnvelope,children:Object(k.jsx)("use",{href:w+"#icon-envelope"})}),Object(k.jsx)("input",{type:"email",name:"email",value:s,placeholder:"Email",className:N.a.formItem,onChange:L})]})}),Object(k.jsx)("label",{children:Object(k.jsxs)("div",{className:N.a.labelPassword,children:[Object(k.jsx)("svg",{className:N.a.iconLock,children:Object(k.jsx)("use",{href:w+"#icon-locked"})}),Object(k.jsx)("input",{type:"password",name:"password",value:u,placeholder:"Password",className:N.a.formItem,onChange:L})]})}),Object(k.jsx)("button",{type:"submit",className:N.a.btn,disabled:0===s.length,children:"LOGIN"})]}),Object(k.jsxs)("div",{className:N.a.addBox,children:[Object(k.jsxs)("button",{className:N.a.forgotInfo,onClick:function(){return p(!0)},children:["Forgot"," ",Object(k.jsx)("span",{className:N.a.forgotAddInfo,children:"Username/Password?"})]}),Object(k.jsxs)("button",{type:"button",className:N.a.addBtn,children:["Create your Account",Object(k.jsx)("svg",{className:N.a.Icon,children:Object(k.jsx)("use",{href:w+"#arrow-right"})})]})]})]})]}),Object(k.jsx)(A,{active:v,setActive:p})]})},E=a(30),B=a.n(E);var F=function(e){var t=e.children;return Object(k.jsx)("div",{className:B.a.container,children:t})},C=a.p+"static/media/sprite.c1aea847.svg",P=a(12),S=a.n(P);var U=function(){var e=Object(r.b)();return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:S.a.box,children:[Object(k.jsx)("svg",{className:S.a.userIcon,children:Object(k.jsx)("use",{href:C+"#user"})}),Object(k.jsx)("p",{className:S.a.title,children:"Welcome"}),Object(k.jsx)("button",{className:S.a.btn,type:"button",onClick:function(){return e(v())},children:"Log out"})]})})},M=function(e){return e.isAuth};a(65);var T,q=function(){var e=Object(r.c)(M);return e?Object(k.jsx)(U,{}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(l.a,{}),Object(k.jsx)(F,{children:Object(k.jsx)(y,{isAuth:e})})]})},z=a(15),V=Object(_.d)({name:"auth",initialState:{user:{email:""},token:"",isAuth:!1,error:null},extraReducers:(T={},Object(z.a)(T,g,(function(e,t){var a=t.payload;e.user=a.user,e.token=a.token,e.isAuth=!0})),Object(z.a)(T,x,(function(e,t){var a=t.payload;e.error=a.message})),Object(z.a)(T,v.fulfilled,(function(e,t){e.user="",e.token="",e.isAuth=!1})),T)}).reducer,G=a(7),J=a(31),R=a.n(J),W=a(32),Q=a.n(W),Y={key:"auth",storage:R.a,whitelist:["token"]},K=Object(G.g)(Y,V),X=Object(_.a)({reducer:K,middleware:function(e){return e({serializableCheck:{ignoredActions:[G.a,G.f,G.b,G.c,G.d,G.e]}}).concat(Q.a)}}),D=Object(G.h)(X),H=a(33);o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(r.a,{store:X,children:Object(k.jsx)(H.a,{persistor:D,loading:null,children:Object(k.jsx)(q,{})})})}),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.89b15e74.chunk.js.map